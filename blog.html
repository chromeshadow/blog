<!-- blog-data.html -->
<script>
window.articles = [
    {
        id: 1,
        article: 'how-much-cost-tutor',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3065-3564-4664-a664-343435663262/1.png',
        categories: ['Полезное', 'Новая'],
        link: '/blog/useful/how-much-cost-tutor',
        content: `
            <div class="content-block">
                <h2>В этой статье мы разберём:</h2>
                <p>— сколько стоит репетитор в 2025 году — актуальные цифры в зависимости от региона и формата;<br>
— от чего зависит цена — почему один преподаватель берёт 500 рублей в час, а другой — 5 тысяч;<br>
— как сэкономить на занятиях с репетитором без потери качества — лайфхаки для родителей;<br>
— какой формат лучше выбрать — офлайн или онлайн.
</p>
            </div>
            <div class="content-block">
                <h2>Содержание</h2>
                <p>Средние цены на услуги репетитора по математике в 2025 году<br>
От чего зависит стоимость занятий<br>
Онлайн-репетитор по математике: выгодно ли это<br>
Как сэкономить на услугах репетитора без потери качества<br>
Вопросы и ответы<br>
Заключение
</p>
            </div>
            <div class="content-block">
                <h2>Средние цены на услуги репетитора по математике в 2025 году</h2>
                <p>Вот сколько стоит час репетитора по математике в разных регионах России:</p>
            </div>
            <div class="image-block">
                <img src="https://static.tildacdn.com/tild6230-6637-4136-b933-636466656164/1.png" alt="Цены на репетиторов">
            </div>
            <div class="content-block">
                <h2>От чего зависит стоимость занятий</h2>
                <p>На формирование цен влияет много факторов:</p>
                <h3>1. Опыт и квалификация преподавателя.</h3>
                <p>Студенты и начинающие репетиторы берут 700–1 000 ₽/час.<br>
Педагоги с опытом 1–3 года — 1 000–1 500 ₽/час.<br>
Топовые репетиторы, преподаватели вузов, эксперты ЕГЭ — 1 500–6 000₽/час.
</p>
                <h3>2. Тип занятий.</h3>
                <p>Индивидуальные — максимум внимания одному ребёнку, поэтому стоимость выше.<br>
Групповые (2–6 человек) — дешевле, так как внимание педагога распределяется между несколькими учениками.
</p>
                <h3>3. Цель занятий.</h3>
                <p>Усвоение школьной программы — базовая цена.<br>
Подготовка к ОГЭ/ЕГЭ, олимпиадам — дороже из-за уровня ответственности и сложности занятий.
</p>
                <h3>4. Формат занятий.</h3>
                <p>Онлайн — дешевле на 20–40% из‑за отсутствия выезда и гибкости расписания. <br>
Офлайн — дороже, но подходит тем, кому важен личный контакт.
</p>
            </div>
            <div class="content-block">
                <h2>Онлайн-репетитор по математике: выгодно ли это</h2>
                <p>Дистанционные уроки всегда стоят дешевле из-за:<br><br>

экономии денег и времени на дорогу;<br>
отсутствия сопутствующих затрат (печать материалов, покупка ручек и тетрадей и так далее);<br>
конкуренции среди репетиторов, которая приводит к снижению цены. <br><br>

Но доступная стоимость — это не единственное преимущество. Ребёнок:<br><br>

тоже экономит время и деньги на дорогу;<br>
может выбрать «своего» наставника из большего количества специалистов;<br>
не привязан к конкретному месту — может жить в маленьком городе, а заниматься с репетитором из Москвы;<br>
учится с помощью современных инструментов — интерактивных досок, приложений, тренажёров, коротких видео.<br><br> 

Например, на платформе «Умскул Репетиторы» вы можете найти проверенных репетиторов по математике с ценами от 490 рублей за занятие. Каждый партнёр сервиса проходит строгий отбор, чтобы школьники получали только высшие оценки на контрольных и экзаменах.
</p>
            </div>
                        <div class="content-block">
                <h2>Как сэкономить на услугах репетитора без потери качества</h2>
                <p>Вот несколько лайфхаков, которые помогут вам не переплачивать за занятия с репетиторами:<br><br>

Начинайте с пробного занятия — так вы сможете оценить методику и стиль преподавания репетитора, а ещё договориться с ним о скидке.<br>
Берите абонемент — обычно так выгоднее.<br>
Ищите онлайн-репетитора — цены ниже, а выбор больше.<br>
Уточняйте цели — обсудите программу занятий заранее, чтобы избежать скрытых расходов.<br>
Обратите внимание на менее раскрученных специалистов — молодые педагоги, студенты профильных вузов тоже могут предложить достойный уровень обучения по более приятной цене.
</p>
            </div>
                                    <div class="content-block">
                <h2>Вопросы и ответы</h2>
                <h3>Почему услуги репетиторов по подготовке к ЕГЭ дороже?</h3>
                <p>Подготовка к ЕГЭ требует глубокого знания специфики экзамена, актуальных материалов и стратегии — отсюда высокая цена.</p>
                <h3>Как проверить, что цена адекватна? Сколько стоит репетитор по математике в нормальных пределах?</h3>
                <p>Сравните расценки нескольких педагогов с аналогичной квалификацией в вашем регионе.</p>
                <h3>Можно ли найти хорошего репетитора за 500 ₽/час?</h3>
                <p>Да, особенно в онлайн-формате. Например, студенты старших курсов, которые только начинают преподавать, берут недорого. Но при этом многие из них уже обладают хорошим уровнем знаний, а в силу своего возраста умеют общаться с подростками и влюблять их в свои занятия.</p>
                <h3>Сколько часов в неделю эффективно заниматься с репетитором?</h3>
                <p>Оптимально — 2–3 часа, плюс самостоятельно дома. Для интенсивной подготовки перед экзаменами или ВПР (в течение ограниченного периода) — 6–8 часов в неделю.</p>
                <h3>Когда лучше искать репетитора?</h3>
                <p>Обычно летом и в начале учебного года цены ниже. Ближе к экзаменам спрос растёт — занятия становятся дороже, а выбор репетиторов уменьшается.</p>
            </div>
            <div class="content-block">
                <h2>Заключение</h2>
                <p>Занятия с репетитором — это не просто дополнительные расходы, но и инвестиция в будущее ребёнка. Поэтому при выборе педагога важно смотреть не только на стоимость, но и на:

отзывы и результаты учеников;
методику преподавания;
совместимость с ребёнком.

На платформе «Умскул Репетиторы» специалисты умеют объяснять сложное просто и помогают добиваться результатов без стресса. Здесь можно подобрать репетитора под любой бюджет и цель — от «подтянуть школьную программу» до «подготовиться к ЕГЭ на 90+ баллов».

Приходите к нам на бесплатное вводное занятие — убедитесь, что математика может быть понятной и интересной для ребёнка! 

Записаться на пробное занятие
</p>
            </div>
        `
    },
        {
        id: 2,
        article: 'how-much-cost-tutor5',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3436-3766-4061-b235-366630346661/1.png',
        categories: ['Полезное'],
        link: '/blog/useful/how-much-cost-tutor5',
        content: `
            <div class="content-block">
                <p>Содержимое статьи...</p>
            </div>
        `
    },
        {
        id: 3,
        article: 'how-much-cost-tutor4',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3436-3766-4061-b235-366630346661/1.png',
        categories: ['Полезное'],
        link: '/blog/useful/how-much-cost-tutor5',
        content: `
            <div class="content-block">
                <p>Содержимое статьи...</p>
            </div>
        `
    },
        {
        id: 4,
        article: 'how-much-cost-tutor3',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3436-3766-4061-b235-366630346661/1.png',
        categories: ['Полезное'],
        link: '/blog/useful/how-much-cost-tutor5',
        content: `
            <div class="content-block">
                <p>Содержимое статьи...</p>
            </div>
        `
    },
        {
        id: 5,
        article: 'how-much-cost-tutor2',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3436-3766-4061-b235-366630346661/1.png',
        categories: ['Полезное'],
        link: '/blog/useful/how-much-cost-tutor5',
        content: `
            <div class="content-block">
                <p>Содержимое статьи...</p>
            </div>
        `
    },
        {
        id: 6,
        article: 'how-much-cost-tutor1',
        articleTitle: 'Сколько стоит репетитор по математике в 2025 году?',
        articleDescription: 'Почему цены на услуги репетиторов такие разные? Кто-то платит за занятие по математике всего 500 рублей, а кто-то отдаёт 2–3 тысячи. Но результаты в обоих случаях примерно одинаковые. Разброс цен не всегда понятен, и это вызывает недоумение: хочется и сэкономить, и не прогадать с качеством.',
        date: '2025-09-26',
        readingTime: '4 минуты',
        author: {
            name: 'Иван Иванов',
            link: '/author/ivan-ivanov'
        },
        image: 'https://static.tildacdn.com/tild3436-3766-4061-b235-366630346661/1.png',
        categories: ['Полезное'],
        link: '/blog/useful/how-much-cost-tutor5',
        content: `
            <div class="content-block">
                <p>Содержимое статьи...</p>
            </div>
        `
    },
];

const allArticleArrays = [window.articles];
const allArticles = allArticleArrays.flat().sort((a, b) => new Date(b.date) - new Date(a.date));
const categories = [
  { name: "ЕГЭ", article: "ege" },
  { name: "ОГЭ", article: "oge" },
  { name: "Советы", article: "tips" },
  { name: "Предметы", article: "subjects" },
  { name: "Новости", article: "news" },
  { name: "Полезное", article: "useful" }
];
const popularArticleIds = [1, 3, 5];
const recommendedArticleIds = [2, 4, 6];
const cardsPerPage = 5;
let currentPage = 1;
let filteredData = allArticles;
let selectedCategory = null;
function normalizeText(text) {
  if (!text) return '';
  text = text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, '');
  const diacriticsMap = { 'ё': 'е', 'й': 'и' };
  return text.replace(/[ёй]/g, char => diacriticsMap[char] || char).trim();
}
function simpleStem(word) {
  if (!word) return '';
  const endings = [
    'а', 'е', 'и', 'у', 'ы', 'ов', 'ам', 'ах', 'ами', 'я', 'ю', 'ем', 'ой', 'ей',
    'ов', 'ев', 'ый', 'ий', 'ая', 'ое', 'ие', 'ого', 'его', 'ому', 'ему'
  ];
  let stemmed = word;
  for (const ending of endings) {
    if (stemmed.endsWith(ending)) {
      stemmed = stemmed.slice(0, -ending.length);
      break;
    }
  }
  return stemmed || word;
}
function matchesQuery(text, query) {
  if (!text || !query) return false;
  const normalizedText = normalizeText(text);
  const normalizedQuery = normalizeText(query);
  const textWords = normalizedText.split(/\s+/).filter(word => word.length > 0);
  const queryWords = normalizedQuery.split(/\s+/).filter(word => word.length > 0);
  return queryWords.some(queryWord => {
    const stemmedQuery = simpleStem(queryWord);
    return (
      normalizedText.includes(normalizedQuery) ||
      textWords.some(textWord => {
        const stemmedText = simpleStem(textWord);
        return stemmedText.includes(stemmedQuery) || textWord.includes(queryWord);
      })
    );
  });
}
function getArticleFullText(article) {
  if (!article) return '';
  const dateText = article.date
    ? new Date(article.date).toLocaleDateString('ru-RU', {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
      })
    : '';
  return [
    article.articleTitle || '',
    article.articleDescription || '',
    article.categories?.join(' ') || '',
    dateText,
    article.date || ''
  ].join(' ');
}
function getCategoryFromURL() {
  const path = window.location.pathname;
  const match = path.match(/^\/blog\/([^/]+)/);
  if (match) {
    const article = match[1];
    const category = categories.find(cat => cat.article === article);
    return category ? category.name : null;
  }
  return null;
}
function getArticleFromURL() {
  const path = window.location.pathname;
  const match = path.match(/^\/blog\/([^/]+)\/([^/]+)/);
  if (match) {
    return match[2];
  }
  return null;
}
function isArticlePage() {
  const path = window.location.pathname;
  return path.match(/^\/blog\/[^/]+\/[^/]+/);
}
function renderCards(data, page, append = false) {
  filteredData = data || [];
  const container = document.getElementById('cardsContainer');
  if (!container) return;
  if (!append) {
    container.innerHTML = '';
  }
  const start = (page - 1) * cardsPerPage;
  const end = start + cardsPerPage;
  const pageData = data.slice(start, end);
  if (pageData.length === 0 && !append) {
    container.innerHTML = '<p>Статьи не найдены</p>';
  } else {
    pageData.forEach(item => {
      if (!item) return;
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div style="display: flex; gap: 24px;">
          <div class="image-container">
            <div class="tags-on-image">
              ${item.categories?.map(category => {
                if (category === 'Новая') {
                  return `<span class="new-tag">${category}</span>`;
                }
                const cat = categories.find(c => c.name === category);
                const article = cat ? cat.article : encodeURIComponent(category);
                return `<a href="/blog/${article}" class="tag">${category}</a>`;
              }).join('') || ''}
            </div>
            <a href="${item.link || '#'}">
              <img src="${item.image || ''}" alt="${item.articleTitle || 'Статья'}" />
            </a>
          </div>
          <div class="info-container">
            <div style="display: flex; flex-direction: column; gap: 12px;">
              <a href="${item.link || '#'}" class="title" style="text-decoration: none; color: inherit;">${item.articleTitle || 'Без заголовка'}</a>
              <a href="${item.link || '#'}" class="description" style="text-decoration: none; color: inherit;">${item.articleDescription || 'Без описания'}</a>
            </div>
            <div class="date">${item.date ? new Date(item.date).toLocaleDateString('ru-RU', {
              day: 'numeric', month: 'long', year: 'numeric'
            }) : 'Дата неизвестна'}</div>
          </div>
        </div>
      `;
      container.appendChild(card);
    });
  }
  renderLoadMoreButton(data.length, page);
  setTimeout(() => {
    const ucBlog = document.querySelector('.uc-blog');
    if (ucBlog && ucBlog.id) {
      t_onFuncLoad('t396_init', function() {
        t396_init(ucBlog.id.replace('rec', ''));
      });
    }
  }, 0);
}
function renderArticle(article) {
  const articleObj = allArticles.find(a => a.article === article);
  const wrapper = document.getElementById('article-wrapper');
  if (!articleObj || !wrapper) {
    wrapper.innerHTML = '<p>Статья не найдена</p>';
    return;
  }
  try {
    wrapper.innerHTML = `
      <div class="article-top">
        <div class="article-header">
          <h1 class="article-title">${articleObj.articleTitle || 'Без заголовка'}</h1>
          <p class="article-subtitle">${(articleObj.articleDescription || 'Без описания').replace('\n', '<br>')}</p>
        </div>
        <div class="article-main-image" style="background-image: url(${articleObj.image || ''});"></div>
        <div class="article-meta">
          <div class="author-info">
            <div class="author-avatar"></div>
            <div class="author-details">
              <p class="author-name"><a href="${articleObj.author?.link || '#'}">${articleObj.author?.name || 'Автор неизвестен'}</a></p>
              <p class="author-role">Автор Блог</p>
            </div>
          </div>
          <div class="meta-info">
            <p class="reading-time">Время чтения: ${articleObj.readingTime || 'Не указано'}</p>
            <button class="share-button">
              <span class="share-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
                  <path d="M10.4155 1.77576L13.9226 4.99146C15.3075 6.26132 16 6.89625 16 7.7142C16 8.53215 15.3075 9.16708 13.9226 10.4369L10.4155 13.6526C9.78333 14.2323 9.46725 14.5221 9.20664 14.4014C8.94604 14.2807 8.94604 13.8444 8.94604 12.972V10.8367C5.76762 10.8367 2.32434 12.3979 1 15C1 6.67337 5.70876 4.59171 8.94604 4.59171V2.45644C8.94604 1.58397 8.94604 1.14774 9.20664 1.02702C9.46725 0.906301 9.78333 1.19612 10.4155 1.77576Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </span>
              <span class="share-text">Поделиться</span>
            </button>
          </div>
        </div>
      </div>
      <div class="article-content">${articleObj.content || 'Содержимое отсутствует'}</div>
      <p class="article-date">${articleObj.date ? new Date(articleObj.date).toLocaleDateString('ru-RU', {
        day: 'numeric', month: 'long', year: 'numeric'
      }) : 'Дата неизвестна'}</p>
    `;
  } catch (error) {
    wrapper.innerHTML = '<p>Ошибка загрузки статьи</p>';
  }
}
function renderSidebar() {
  const sidebars = document.querySelectorAll('.sidebar');
  if (sidebars.length === 0) return;
  const categoriesHtml = categories && Array.isArray(categories) && categories.length > 0
    ? categories.map(category => {
      if (!category.name || !category.article) return '';
      return `
        <a href="/blog/${category.article}" class="category${selectedCategory === category.name ? ' active' : ''}" data-category="${category.name}">
          ${category.name}
        </a>
      `;
    }).join('')
    : '<p>Категории не найдены</p>';
  const popularArticles = popularArticleIds
    .map(id => allArticles.find(article => article.id === id))
    .filter(article => article);
  const popularArticlesHtml = popularArticles.length > 0
    ? (index) => `
      <div class="popular-slider">
        <div class="popular-slides" id="popularSlides${index}">
          ${popularArticles.map((article, slideIndex) => `
            <div class="popular-slide" data-index="${slideIndex}">
              <div class="popular-card">
                <a href="${article.link || '#'}" style="text-decoration: none; color: inherit;">
                  <div class="image-container">
                    <div class="tags-on-image">
                      ${article.categories?.map(category => {
                        if (category === 'Новая') {
                          return `<span class="new-tag">${category}</span>`;
                        }
                        const cat = categories.find(c => c.name === category);
                        const article = cat ? cat.article : encodeURIComponent(category);
                        return `<a href="/blog/${article}" class="tag">${category}</a>`;
                      }).join('') || ''}
                    </div>
                    <img src="${article.image || ''}" alt="${article.articleTitle || 'Статья'}" />
                  </div>
                  <div class="title">${article.articleTitle || 'Без заголовка'}</div>
                  <div class="description">${article.articleDescription || 'Без описания'}</div>
                  <div class="date">${article.date ? new Date(article.date).toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' }) : 'Дата неизвестна'}</div>
                </a>
              </div>
            </div>
          `).join('')}
        </div>
        ${popularArticles.length > 1 ? `
          <div class="slider-dots" id="popularDots${index}">
            ${popularArticles.map((_, slideIndex) => `
              <button class="slider-dot ${slideIndex === 0 ? 'active' : ''}" data-index="${slideIndex}"></button>
            `).join('')}
          </div>
        ` : ''}
      </div>
    `
    : () => '<p>Популярные статьи не найдены</p>';
  const recommendedArticles = recommendedArticleIds
    .map(id => allArticles.find(article => article.id === id))
    .filter(article => article);
  const recommendedArticlesHtml = recommendedArticles.length > 0
    ? recommendedArticles.map(article => `
      <div class="recommended-card">
        <a href="${article.link || '#'}" style="text-decoration: none; color: inherit;">
          <div class="title">${article.articleTitle || 'Без заголовка'}</div>
          <div class="date">${article.date ? new Date(article.date).toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' }) : 'Дата неизвестна'}</div>
        </a>
      </div>
    `).join('')
    : '<p>Рекомендуемые статьи не найдены</p>';
  sidebars.forEach((sidebar, sidebarIndex) => {
    const categoriesContainer = sidebar.querySelector('.categories-container');
    if (categoriesContainer) {
      categoriesContainer.innerHTML = categoriesHtml;
    }
    const popularContainer = sidebar.querySelector('.popular-articles');
    if (popularContainer) {
      popularContainer.innerHTML = popularArticlesHtml(sidebarIndex);
      if (popularArticles.length > 1) {
        initPopularSlider(`popularSlides${sidebarIndex}`);
      }
    }
    const recommendedContainer = sidebar.querySelector('.recommended-articles');
    if (recommendedContainer) {
      recommendedContainer.innerHTML = recommendedArticlesHtml;
    }
  });
}
function initPopularSlider(slidesId) {
  const slidesContainer = document.getElementById(slidesId);
  const dotsContainer = document.getElementById(`popularDots${slidesId.match(/\d+$/)[0]}`);
  const slides = slidesContainer?.querySelectorAll('.popular-slide');
  const dots = dotsContainer?.querySelectorAll('.slider-dot');
  if (!slidesContainer || !slides || slides.length <= 1 || !dots) return;
  let currentSlide = 0;
  function goToSlide(index) {
    currentSlide = index;
    const translateX = -index * 100;
    slidesContainer.style.transform = `translateX(${translateX}%)`;
    dots.forEach((dot, i) => {
      dot.classList.toggle('active', i === index);
    });
  }
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      goToSlide(index);
      resetSliderTimer(slidesId);
    });
  });
  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    goToSlide(currentSlide);
  }
  function resetSliderTimer(slidesId) {
    clearInterval(sliderInterval[slidesId]);
    sliderInterval[slidesId] = setInterval(nextSlide, 5000);
  }
  const sliderInterval = {};
  sliderInterval[slidesId] = setInterval(nextSlide, 5000);
  const slider = slidesContainer.closest('.popular-slider');
  if (slider) {
    slider.addEventListener('mouseenter', () => {
      clearInterval(sliderInterval[slidesId]);
    });
    slider.addEventListener('mouseleave', () => {
      resetSliderTimer(slidesId);
    });
  }
}
function filterArticles() {
  let filtered = allArticles || [];
  const searchInput = document.getElementById('search-input');
  const searchQuery = searchInput ? searchInput.value.trim() : '';
  if (selectedCategory) {
    filtered = filtered.filter(article => article?.categories?.includes(selectedCategory));
  }
  if (searchQuery) {
    filtered = filtered.filter(article => {
      if (!article) return false;
      const fullText = getArticleFullText(article);
      return matchesQuery(fullText, searchQuery);
    });
  }
  currentPage = 1;
  renderCards(filtered, currentPage);
}
function renderLoadMoreButton(totalItems, currentPage) {
  const loadMoreBtn = document.getElementById('loadMoreBtn');
  if (!loadMoreBtn) return;
  if (totalItems === 0) {
    loadMoreBtn.style.display = 'none';
    return;
  }
  const totalPages = Math.ceil(totalItems / cardsPerPage);
  if (currentPage < totalPages) {
    loadMoreBtn.style.display = 'block';
    loadMoreBtn.onclick = () => {
      currentPage++;
      renderCards(filteredData, currentPage, true);
    };
  } else {
    loadMoreBtn.style.display = 'none';
  }
}
function scrollToCatalog() {
  const catalogContainer = document.querySelector('.catalog-container');
  if (catalogContainer) {
    const rect = catalogContainer.getBoundingClientRect();
    window.scrollTo({ top: rect.top + window.scrollY - 40, behavior: 'smooth' });
  }
}
function observeSidebar() {
  const observer = new MutationObserver((mutations, observer) => {
    const sidebars = document.querySelectorAll('.sidebar');
    if (sidebars.length >= 2) {
      renderSidebar();
      observer.disconnect();
    }
  });
  observer.observe(document.body, {
    childList: true,
    subtree: true
  });
}
function initSearch() {
  const searchInput = document.getElementById('search-input');
  const searchIcon = document.querySelector('.search-icon');
  const clearIcon = document.querySelector('.clear-icon');
  if (searchInput && searchIcon && clearIcon) {
    searchInput.addEventListener('input', () => {
      const hasText = searchInput.value.length > 0;
      searchIcon.classList.toggle('hidden', hasText);
      clearIcon.classList.toggle('hidden', !hasText);
      currentPage = 1;
      filterArticles();
    });
    clearIcon.addEventListener('click', () => {
      searchInput.value = '';
      searchIcon.classList.remove('hidden');
      clearIcon.classList.add('hidden');
      currentPage = 1;
      filterArticles();
    });
  }
}
document.addEventListener('DOMContentLoaded', () => {
  selectedCategory = getCategoryFromURL();
  if (isArticlePage()) {
    const articleParam = getArticleFromURL();
    renderArticle(articleParam);
  } else {
    filterArticles();
  }
  observeSidebar();
  initSearch();
  t_onFuncLoad('t396_init', function() {
    renderSidebar();
    initSearch();
  });
});
</script>